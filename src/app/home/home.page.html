<ion-content>
    <ion-grid>
        <ion-row>
            <ion-col size-md="12" size-lg="8" offset-lg="2">
                <div class="container">
                    <img class="background-img" src="/assets/images/mountain-1.jpg" />

                    <div class="top-right" (click)="onLogout()">
                        <span class="material-icons-outlined"> logout </span>
                    </div>

                    <div class="centered">
                        <h1>Ohrwumslar</h1>

                        <hr />

                        <h5>Ihre Ferienwohnung</h5>
                    </div>
                </div>
            </ion-col>
        </ion-row>

        <ion-row *ngIf="!isAdmin">
            <ion-col size-md="12" size-lg="8" offset-lg="2">
                <div class="content-card">
                    <p>
                        Liebe Gäste,<br /> wir wünschen Ihnen, dass Sie sich hier in der Wohnung wohlfühlen, Ihren Alltag hinter sich lassen und Ihre Energie in der herrlichen Natur der Oberstdorfer Bergwelt auftanken können.
                    </p>
                    <br />
                    <div class="date-display">
                        <ion-row>
                            <ion-col size="7">
                                <p>Ihre Buchung:</p>
                            </ion-col>
                            <ion-col>
                                <div class="filled-display">
                                    <p>
                                        {{ user.arriveDate | date: "dd.MM" }} - {{ user.leaveDate | date: "dd.MM" }}
                                    </p>
                                </div>
                            </ion-col>
                        </ion-row>
                    </div>
                </div>
            </ion-col>
        </ion-row>

        <ion-row *ngIf="isAdmin" class="admin-card">
            <ion-col size-md="12" size-lg="8" offset-lg="2">
                <div class="content-card">
                    <p>
                        Sie sind als Administrator eingeloggt. Hier können Sie ganz einfach einen neuen Gast hinzufügen.
                    </p>

                    <br />

                    <ion-button (click)="onOpenAdmin()" class="admin-button">
                        Gast hinzufügen
                    </ion-button>
                </div>
                <div *ngIf="!loadedUsers.length && !isLoading" class="guest-list">
                    <p class="no-guests">momentan keine aktiven Gäste</p>
                </div>
                <div *ngIf="loadedUsers.length && !isLoading " class="guest-list">
                    <p class="guest-title">Aktive/Zukünftige Gäste</p>
                    <ion-list *ngFor="let user of loadedUsers">
                        <app-user-item [user]="user" (click)="onOpenUserDetailModal(user)"></app-user-item>
                    </ion-list>
                </div>
            </ion-col>
        </ion-row>

        <ion-row class="content-row-small">
            <ion-col size-md="12" size-lg="8" offset-lg="2">
                <app-action-card *ngIf="user.arriveDate > currentDate" title="Bevor Sie Ankommen" subtitle="Teilen Sie uns einfach mit wie Sie ankommen möchten. Wir kümmern uns darum!" image="/assets/images/mountain-person.jpg" (click)="onOpenBeforeArrival()"></app-action-card>

                <div class="action-field">
                    <ion-row class="centered-horizontal">
                        <app-action-card-small title="Ihre Wohnung" icon="bed" image="/assets/images/apartment.jpeg" (click)="onOpenApartmentDetail()">
                        </app-action-card-small>

                        <app-action-card-small title="Frühstücks Service" icon="bakery_dining" image="/assets/images/bread.jpg" (click)="onOpenBreadOrderPage()">
                        </app-action-card-small>

                        <app-action-card-small title="Sauna Reservieren" icon="hot_tub" image="/assets/images/sauna.jpeg" (click)="onOpenReservationModal()">
                        </app-action-card-small>

                        <app-action-card-small title="Bewerten Sie uns" icon="grade" image="/assets/images/feedback.jpg" href="https://g.page/r/CcgiqX68TxgkEAg/review">
                        </app-action-card-small>

                        <hr />

                        <ion-button (click)="onOpenSendMessage()">
                            Nachricht Schreiben
                            <ion-icon name="chatbubbles"></ion-icon>
                        </ion-button>
                    </ion-row>
                </div>
            </ion-col>
        </ion-row>

        <ion-row class="space"></ion-row>
    </ion-grid>
</ion-content>